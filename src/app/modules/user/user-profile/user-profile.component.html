<div class="container p-3 text-dark">

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="doctor/home">หน้าแรก</a></li>
            <li class="breadcrumb-item active" aria-current="page">ประวัติผู้ป่วย</li>
        </ol>
    </nav>

    <div class="container con-pro pb-0 text-dark">
        <div
            class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mb-3 border-bottom text-dark">
            <h3>ประวัติผู้ป่วย</h3>
            <div class="btn-toolbar mb-2 mb-md-0">
                <div class="btn-group me-2">
                    <button type="button" class="btn btn-sm btn-outline-success" routerLink="../home">
                        << ย้อนกลับ</button>
                </div>
            </div>
        </div>

        <div class="row justify-content-center">

            <!-- profile -->
            <div class="col-md-12 pb-4">
                <div class="card shadow" style="border-radius: 10px;">
                    <div class="card-header">
                        <h6 class="m-1">ประวัติผู้ป่วย</h6>
                    </div>
                    <div class="card-body">
                        <form [formGroup]="DataUserForm" class="row g-3 p-2">
                            <div class="col-md-2 col-sm-12">
                                <label for="validationCustom01" class="form-label">รหัสผู้ป่วย</label>
                                <input type="text" class="form-control" id="validationCustom01" value=""
                                    formControlName="tmId" readonly>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label for="validationCustom01" class="form-label">หมายเลขประจำตัวประชาชน</label>
                                <input type="text" class="form-control" id="validationCustom01" value=""
                                    formControlName="userCardId" readonly>
                            </div>
                            <div class="col-md-1">
                                <label for="validationCustom01" class="form-label">คำนำหน้า</label>
                                <input type="text" class="form-control" id="validationCustom01" value=""
                                    formControlName="userTitle" readonly>
                            </div>
                            <div class="col-md-3">
                                <label for="validationCustom02" class="form-label">ชื่อ</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userFirstname" readonly>
                            </div>
                            <div class="col-md-3">
                                <label for="validationCustom02" class="form-label">สกุล</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userLastname" readonly>
                            </div>
                            <div class="col-md-3">
                                <label for="validationCustom02" class="form-label">วันเดือนปีเกิด</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userBirthday" readonly>
                            </div>
                            <div class="col-md-1">
                                <label for="validationCustom02" class="form-label">เพศ</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userGender" readonly>
                            </div>
                            <div class="col-md-1">
                                <label for="validationCustom02" class="form-label">กรุ๊ปเลือด</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userBlood" readonly>
                            </div>
                            <div class="col-md-3">
                                <label for="validationCustom02" class="form-label">โรคประจำตัว</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userDisease" readonly>
                            </div>
                            <div class="col-md-4">
                                <label for="validationCustom02" class="form-label">แพทย์ผู้รักษา</label>
                                <input type="text" class="form-control" id="validationCustom02" value="" readonly>
                            </div>
                            <div class="col-md-4">
                                <label for="validationCustom02" class="form-label">ที่อยู่</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="userAddrass" readonly>
                            </div>
                            <div class="col-md-2">
                                <label for="validationCustom02" class="form-label">รหัสไปรษณีย์</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="zipCode" readonly>
                            </div>
                            <div class="col-md-2">
                                <label for="validationCustom02" class="form-label">จังหวัด</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="province" readonly>
                            </div>
                            <div class="col-md-2">
                                <label for="validationCustom02" class="form-label">อำเภอ</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="district" readonly>
                            </div>
                            <div class="col-md-2">
                                <label for="validationCustom02" class="form-label">ตำบล</label>
                                <input type="text" class="form-control" id="validationCustom02" value=""
                                    formControlName="subdistrict" readonly>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Settings -->
            <div class="col-md-12">
                <form [formGroup]="DataUserForm">
                    <div class="card shadow" style="border-radius: 10px;">
                        <div class="card-header">
                            <div class="row justify-content-between">
                                <div class="col-md-4 col-sm-6 align-self-center">
                                    <h6 class="m-0">ตั้งค่าการใช้งาน</h6>
                                </div>
                                <div class="col-md-4 col-sm-6 text-end p-0">
                                    <div class="dropdown no-arrow p-0">
                                        <a class="nav-link pb-0 pt-0" aria-expanded="false" data-bs-toggle="dropdown"
                                            href="#">
                                            <i class="bi bi-pencil-square"
                                                style="font-size: 19px; color: rgb(238, 91, 6);"></i>
                                        </a>
                                        <div class="dropdown-menu shadow dropdown-menu-end animated--grow-in">
                                            <a class="dropdown-item" data-bs-toggle="modal"
                                                data-bs-target="#newpasswordModal">
                                                <i
                                                    class="fas fa-user fa-sm fa-fw me-2 text-gray-400"></i>เปลี่ยนรหัสผ่าน</a>
                                            <a class="dropdown-item" data-bs-toggle="modal"
                                                data-bs-target="#edittelModal">
                                                <i
                                                    class="fas fa-cogs fa-sm fa-fw me-2 text-gray-400"></i>แก้ไขเบอร์โทร</a>
                                            <a class="dropdown-item" data-bs-toggle="modal"
                                                data-bs-target="#editEmailModal">
                                                <i class="fas fa-list fa-sm fa-fw me-2 text-gray-400"></i>แก้ไขอีเมล</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="row g-2" style="padding-left: 15px;">
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">สถานะการใช้งาน :
                                    </label>
                                </div>
                                <div class="col-md-1 col-sm-6 align-self-center">
                                    <input type="text" readonly
                                        class="form-control-plaintext form-control-sm bg-success text-center text-white fw-bold"
                                        id="staticDate" value="" formControlName="userStatus"
                                        style="border-radius: 5px;">
                                </div>
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">รหัสผู้ใช้งาน :
                                    </label>
                                </div>
                                <div class="col-md-2 col-sm-6">
                                    <input type="text" readonly class="form-control-plaintext" id="staticDate" value=""
                                        formControlName="userId">
                                </div>
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">ชื่อผู้ใช้ : </label>
                                </div>
                                <div class="col-md-2 col-sm-6">
                                    <input type="text" readonly class="form-control-plaintext" id="staticDate" value=""
                                        formControlName="userUsername">
                                </div>
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">รหัสผ่าน : </label>
                                </div>
                                <div class="col-md-2 col-sm-6">
                                    <input type="password" readonly class="form-control-plaintext" id="staticDate"
                                        value="" formControlName="userPassword">
                                </div>
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">เบอร์โทรศัพท์ :
                                    </label>
                                </div>
                                <div class="col-md-2 col-sm-6">
                                    <input type="text" readonly class="form-control-plaintext" id="staticDate" value=""
                                        formControlName="userPhone">
                                </div>
                                <div class="col-md-6 col-sm-6 text-end">
                                    <label for="inputDate" class="col-sm-auto col-form-label">อีเมล : </label>
                                </div>
                                <div class="col-md-4 col-sm-6">
                                    <input type="text" readonly class="form-control-plaintext" id="staticDate" value=""
                                        formControlName="userEmail">
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <br>
    </div>
    <!-- end con-pro -->
</div>

<!-- Model New Password -->
<div class="modal fade" id="newpasswordModal" data-bs-backdrop="static" tabindex="-1"
    aria-labelledby="newpasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered text-dark">
        <div class="modal-content">
            <div class="modal-body bg-light">
                <div class="row justify-content-end p-2 pt-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="card p-3">
                    <form [formGroup]="DataUserForm" (ngSubmit)="SubmitEditPass()">
                        <div class="row justify-content-center">
                            <h5 class="text-center font-monospace pb-2">เปลี่ยนรหัสผ่าน</h5>
                            <br>
                            <div class="col-md-9 pb-3">
                                <input class="form-control" type="password" placeholder="รหัสผ่านใหม่"
                                    aria-label="default input example" required>
                            </div>
                            <div class="col-md-9">
                                <input class="form-control" type="password" placeholder="ยืนยันรหัสผ่าน"
                                    aria-label="default input example" required>
                            </div>
                        </div>
                        <div class="col-md-12 text-center pt-3">
                            <button type="submit" class="fw-bolder btn btn-success">ตั้งค่าใหม่</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Model Edit Tel -->
<div class="modal fade" id="edittelModal" data-bs-backdrop="static" tabindex="-1" aria-labelledby="edittelModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered text-dark">
        <div class="modal-content">
            <div class="modal-body bg-light">
                <div class="row justify-content-end p-2 pt-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form [formGroup]="DataUserForm" (ngSubmit)="onSubmitTel()">
                    <div class="card p-3">
                        <div class="row justify-content-center">
                            <h5 class="text-center font-monospace pb-2">เบอร์โทรศัพท์ใหม่</h5>
                            <br>
                            <div class="col-md-9 pb-3">
                                <input class="form-control" type="text" placeholder="หมายเลขโทรศัพท์"
                                    aria-label="default input example" formControlName="userPhone" required>
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <div class="col-md-auto pt-3">
                                <button type="submit" class="fw-bolder btn btn-success">ตั้งค่าใหม่</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Model Edit Email -->
<div class="modal fade" id="editEmailModal" data-bs-backdrop="static" tabindex="-1"
    aria-labelledby="editEmailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered text-dark">
        <div class="modal-content">
            <div class="modal-body bg-light">
                <div class="row justify-content-end p-2 pt-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form [formGroup]="DataUserForm" (ngSubmit)="onSubmitEmail()">
                    <div class="card p-3">
                        <div class="row justify-content-center">
                            <h5 class="text-center font-monospace pb-2">เปลี่ยนอีเมลใหม่</h5>
                            <br>
                            <div class="col-md-9 pb-3">
                                <input class="form-control" type="text" placeholder="อีเมล"
                                    aria-label="default input example" formControlName="userEmail" required>
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <div class="col-md-auto pt-3">
                                <button type="submit" class="fw-bolder btn btn-success">ตั้งค่าใหม่</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>